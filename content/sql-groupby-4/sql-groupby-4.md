---
emoji: ğŸƒ
categories: sql
title: ì…ì–‘ ì‹œê°„ êµ¬í•˜ê¸° - í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ SQL ê³ ë“ì  KIT
author: ë²”ìˆ˜
date: '2022-03-10 18:00:00'
tags: ë¸”ë¡œê·¸
description:
---
<!-- 
íŠœí† ë¦¬ì–¼, í•˜ìš° íˆ¬ ê°€ì´ë“œ, ì„¤ëª… ,ë ˆí¼ëŸ°ìŠ¤ 
https://documentation.divio.com/tutorials/
-->
# ì…ì–‘ ì‹œê°„ êµ¬í•˜ê¸°

## ì…ì–‘ ì‹œê°„ êµ¬í•˜ê¸° -1

ë¬¸ì œëŠ” ê°„ë‹¨í•œë° í•¨ìˆ˜ë¥¼ ëª°ë¼ì„œ ì¢€ í—¤ë§¸ë‹¤.

ë³´í˜¸ì†Œì—ì„œëŠ” ëª‡ ì‹œì— ì…ì–‘ì´ ê°€ì¥ í™œë°œí•˜ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤. 09:00ë¶€í„° 19:59ê¹Œì§€, ê° ì‹œê°„ëŒ€ë³„ë¡œ ì…ì–‘ì´ ëª‡ ê±´ì´ë‚˜ ë°œìƒí–ˆëŠ”ì§€ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì‹œê°„ëŒ€ ìˆœìœ¼ë¡œ ì •ë ¬í•´ì•¼ í•©ë‹ˆë‹¤.

### í’€ì´

1. HOUR(ê° ì‹œê°„ëŒ€), COUNT(ì…ì–‘ ê±´ ìˆ˜)ë¥¼ ì¶œë ¥í•˜ë¼
2. ê²°ê³¼ëŠ” ì‹œê°„ëŒ€ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë¼

```SQL
SELECT HOUR(DATETIME) AS HOUR, COUNT(HOUR(DATETIME)) AS COUNT FROM ANIMAL_OUTS GROUP BY HOUR(DATETIME) HAVING HOUR>=9 AND HOUR <= 19 ORDER BY HOUR(DATETIME) ASC
```

ì‹œê°„ í•¨ìˆ˜ì¸ HOURì„ ì´ìš©í•˜ë©´ ì‹œê°„ëŒ€ ë³„ ì†ì„±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤

## ì…ì–‘ ì‹œê°„ êµ¬í•˜ê¸° -2

ì •ë³´ì²˜ë¦¬ ê¸°ì‚¬ì—ì„œ ë³´ì§€ ëª»í•œ ê°œë…ë“¤ì´ ë‚˜ì™€ ìƒˆë¡œ ë°°ì› ë‹¤

ë³´í˜¸ì†Œì—ì„œëŠ” ëª‡ ì‹œì— ì…ì–‘ì´ ê°€ì¥ í™œë°œí•˜ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤. 0ì‹œë¶€í„° 23ì‹œê¹Œì§€, ê° ì‹œê°„ëŒ€ë³„ë¡œ ì…ì–‘ì´ ëª‡ ê±´ì´ë‚˜ ë°œìƒí–ˆëŠ”ì§€ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì‹œê°„ëŒ€ ìˆœìœ¼ë¡œ ì •ë ¬í•´ì•¼ í•©ë‹ˆë‹¤.

### í’€ì´

1. 0 ~ 23ì‹œê¹Œì§€ì˜ í•„ë“œë¥¼ ë§Œë“¤ ê²ƒ
2. ì‹œê°„ëŒ€ ë³„ë¡œ ì…ì–‘ ê±´ìˆ˜ ì¶œë ¥í•˜ë¼
3. ê²°ê³¼ëŠ” ì‹œê°„ëŒ€ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ë¼

ì²˜ìŒì—” ê·¸ëƒ¥ ì…ì–‘ ì‹œê°„ êµ¬í•˜ê¸°-1ì²˜ëŸ¼ HAVINGì„ ì‚¬ìš©í•˜ë©´ ë  ì¤„ ì•Œì•˜ëŠ”ë° ì…ì–‘ í•œ ê±´ë„ ë˜ì§€ ì•Šì€ ì‹œê°„ì€ í•„ë“œê°€ ì•„ì˜ˆ ì—†ì–´ì„œ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í–ˆë‹¤.

```SQL
SET @hour := -1;
SELECT (@hour := @hour +1) AS HOUR, (SELECT COUNT(*) FROM ANIMAL_OUTS WHERE HOUR(DATETIME)=@hour) AS COUNT FROM ANIMAL_OUTS WHERE @hour <23
```

```SQL
SET @hour := 1
```

* @ëŠ” ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ì‚¬ìš©í•˜ë©° @NAME í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
* :=ëŠ” í• ë‹¹í•œë‹¤ëŠ” ëœ»ì´ë‹¤.

```SQL
SELECT (@hour := @hour +1) AS HOUR, FROM ANIMAL_OUTS WHERE @hour <23
```

* (@hour := @hour + 1)ì€ hourì— 1ì„ ê³„ì† ë”í•˜ê² ë‹¤ëŠ” ë§ì´ë‹¤.
  * ë’¤ì´ì€ WHERE @hour <23ì€ hourì„ ê°’ì„ ì œí•œ í•´ì¤€ë‹¤
  * hourì´ 22ê°€ ë˜ë©´ ë©ˆì¶°ì„œ, 23ê¹Œì§€ í•„ë“œë¥¼ ë§Œë“ ë‹¤.